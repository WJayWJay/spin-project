{"version":3,"sources":["util/util.js","components/Spin.js","App.js","index.js"],"names":["now","performance","Date","throttle","fn","id","timeout","arguments","length","undefined","cur","n","args","slice","apply","clearTimeout","setTimeout","Main","state","pointers","Array","fill","current","direction","size","type","pointTo","index","e","_this","console","log","pointer","transformTo","_this$state","baseDeg","raf","deg","Math","abs","style","concat","all","dotInst","querySelectorAll","i","k","animationType","setStyle","setState","s","base","P","PI","ap","cos","g","window","requestAnimationFrame","realPointers","ref","dotCon","change","val","target","value","parseFloat","isNaN","mouseWheel","dy","nativeEvent","deltaY","select","_this2","this","_this$state2","react_default","a","createElement","className","key","placeholder","onChange","marginTop","onWheel","height","width","map","j","onClick","bind","transform","classnames","dot","big-dot","highlight-dot","React","Component","App","components_Spin","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.02eb4851.chunk.js","sourcesContent":["\nconst now = () => performance ? performance.now() : Date.now()\nexport function throttle(fn, timeout = 1000) {\n\n    var cur = now();\n    var id;\n\n    return function() {\n        var n = now();\n        var args = [].slice.apply(arguments)\n        if (id) {\n            clearTimeout(id);\n        }\n        if ((n - cur) > timeout) {\n            fn && fn.apply(null, args);\n            cur = now();\n        } else {\n            id = setTimeout(() => {\n                fn && fn.apply(null, args);\n                id = 0;\n                cur = now();\n            }, timeout)\n        }\n    }\n}","import React from 'react';\n\nimport './Spin.css';\n\nimport classnames from 'classnames';\nimport { throttle } from '../util/util';\n\nclass Main extends React.Component {\n    state = {\n        pointers: new Array(72).fill(0),\n        current: 0,\n        direction: 1,\n        size: 500,\n        type: 'ease-in-out'\n    };\n    pointTo = (index, e) => {\n        const {current} = this.state;\n        console.log(index, current)\n        if (index % 9 !== 0 || !this.pointer) return;\n        if (current === index) return;\n        \n        this.transformTo(index);\n    }\n\n    transformTo = (index) => {\n        const {pointers, current} = this.state;\n\n        const baseDeg = (360 / pointers.length);\n\n        this.raf(() => {\n            const deg = Math.abs(baseDeg * (index));\n            this.pointer.style = `transform: rotateZ(${deg}deg)`;\n\n            this.raf(() => {\n                var all = this.dotInst.querySelectorAll('.dot-content');\n                var i = current+ 1;\n                var k = 1;\n\n                while(i < index) {\n                    if (i % 9 === 0) {\n                        k = 1;\n                    } else {\n                        const animationType = this.state.type;\n                        this.setStyle(all, i, k, animationType)\n                        k++;\n                    }\n                    i++;\n                }\n\n                setTimeout(() => {\n                    this.raf(() => {\n                        i = current+ 1;\n                        while(i < index) {\n                            all[i].style= `transform: scale(1)`;\n                            i++;\n                        }\n                    });\n                }, 500)\n            })\n        })\n\n        this.setState({current: index});\n    }\n    setStyle = (all, i, k, type = 'ease-in-out') => {\n        \n        this.raf(() =>{\n            var s = 1;\n            switch(type) {\n                case 'ease-in-out':\n                    s = 1 + g(k, 4);\n                    break;\n                case 'ease-in':\n                    s = 1 + k * 0.2;\n                    break;\n                default: \n                    s = 1;\n            }\n            all[i].style= `transform: scale(${s})`;\n        });\n\n        function g(index, base = 2) {\n            var P = Math.PI;\n            var ap = P / 8;\n            var d = Math.cos(ap * index - P/2) * base;\n            return d;\n        }\n    }\n\n    raf = (fn) => fn && window.requestAnimationFrame(fn);\n\n    realPointers = (ref) => {\n        this.pointer = ref;\n    }\n    dotCon = (ref) => {\n        this.dotInst = ref;\n    }\n    change = (e) => {\n        var val = e.target.value;\n        val = parseFloat(val)\n        if (isNaN(val)) return\n\n        this.setState({\n            size: val >= 100 ? val : 100\n        })\n    }\n\n    mouseWheel = (e) => {\n        const {current} = this.state;\n        const dy = e && e.nativeEvent && e.nativeEvent.deltaY;\n        if (dy) {\n            let index = current;\n            if (dy < 0) {\n                // up\n                index -= 9;\n                index = index < 0 ? 72 + index : index\n            } else {\n                // down\n                index += 9;\n                index = index > 72 ? index - 72 : index\n            }\n            this.transformTo(index);\n        }\n    }\n\n    select = (e) => {\n        var val = e.target.value;\n        this.setState({\n            type: val\n        })\n    }\n\n    render() {\n        const {pointers, size, current} = this.state;\n        const baseDeg = (360 / pointers.length);\n        return (\n            <div className=\"container\">\n                <span>size: </span><input key={'input'} placeholder={size} onChange={this.change} />\n                <span>animation: </span><select onChange={this.select}>\n                    <option value=\"ease-in-out\">ease-in-out</option>\n                    <option value=\"ease-in\">ease-in</option>\n                </select>\n                <div key={'spin'} style={{marginTop: 20}} className=\"flex flex-align spin-container\">\n                    <div\n                        onWheel={throttle(this.mouseWheel, 800)}\n                        style={{height: size, width: size}} \n                        className=\"spin\">\n                        <div key={1} className=\"spin-center\"></div>\n                        <div key={2} className=\"spin-pointer\">\n                            <div ref={this.realPointers} className=\"real-pointer\"></div>\n                        </div>\n\n                        <div ref={this.dotCon} key={3} className=\"dot-container\">\n                            {pointers.map((j, i) =>{\n                                return (\n                                    <div \n                                        onClick={this.pointTo.bind(this, i)}\n                                        style={{ transform: `rotateZ(${ baseDeg * (i)}deg)`}} \n                                        key={i} \n                                        className={classnames({'dot': true, 'big-dot': i % 9 === 0, 'highlight-dot': current >= i })}\n                                    >\n                                        <div className=\"dot-content\" />\n                                    </div>\n                                )\n                            })\n                            }\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Main;","import React from 'react';\nimport './App.css';\n\nimport Spin from './components/Spin'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      {/* <header className=\"App-header\" /> */}\n      <Spin />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}